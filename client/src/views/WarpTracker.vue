<template>
    <div class="flex flex-col gap-2 w-full">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-4xl pb-2 text-title font-bold">Warp Tracker</h1>
                <p>Track the amount of warps you've made, and how <br> many are needed until your next 5 star.</p>
            </div>
            <button @click="redirect('/warp/import')" class="button p-3 px-20 font-bold text-xl">Import</button>
        </div>
        <Split/>
        <div class="flex flex-row gap-10">
            <div class="w-40 min-w-[10rem] flex flex-col gap-2 child:drop-shadow-2xl">
                <button @click="switchBanner('character')" class="pl-0"><img src="/images/other/characterWarp.png"></button>
                <button @click="switchBanner('light_cone')" class="pl-8"><img src="/images/other/lightConeWarp.png"></button>
                <button @click="switchBanner('regular')" class="pl-8"><img src="/images/other/regularWarp.png"></button>
            </div>
            <div>
                <h1 class="text-xl pb-2 text-title">Character Warp</h1>
                <div class="flex flex-col gap-5">
                    <div class="flex flex-row gap-5">
                        <div class="flex flex-col gap-2 w-72">
                            <div class="bgcontainer p-2 flex flex-row justify-between items-center">
                                <div>
                                    <p class="text-title">Lifetime Pulls</p>
                                    <span class="text-description inline-image"><img src="/images/other/stellar_jade.webp"/>{{ (160 * pulls.lifetime).toLocaleString() }}</span>
                                </div>
                                <p class="text-4xl">{{ pulls.lifetime }}</p>
                            </div>
                            <div class="bgcontainer p-2 flex flex-row justify-between items-center">
                                <div>
                                    <p class="text-title inline-image">5<img src="/images/other/star.png"> Pity</p>
                                    <span class="text-description inline-image">Guaranteed at 90</span>
                                </div>
                                <p class="text-4xl text-legendary">{{ pulls.legendary }}</p>
                            </div>
                            <div class="bgcontainer p-2 flex flex-row justify-between items-center">
                                <div>
                                    <p class="text-title inline-image">4<img src="/images/other/star.png"> Pity</p>
                                    <span class="text-description inline-image">Guaranteed at 10</span>
                                </div>
                                <p class="text-4xl text-rare">{{ pulls.rare }}</p>
                            </div>
                        </div>
                        <div class="bgcontainer w-[37.25rem] p-2">
                            <div class="w-[24.6rem]">
                                <tr class="text-title child:font-normal">
                                    <th>Character Warp</th>
                                    <th>Total</th>
                                    <th>Percent</th>
                                </tr>
                                <tr>

                                </tr>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="bgcontainer flex flex-col w-[37.25rem] gap-3 p-5">
                            <div class="flex flex-row justify-center gap-3 child:h-12 child:w-12 child:justify-center child:items-center child:pl-2 child:transition-colors">
                                <button @click="filterWarps('legendary')" :class="{'bg-[#ffb13f] bg-opacity-20': filters.legendary}" class="buttonSquare inline-image">5<img src="/images/other/star.png"/></button>
                                <button @click="filterWarps('rare')" :class="{'bg-[#ffb13f] bg-opacity-20': filters.rare}" class="buttonSquare inline-image hue-rotate-[250deg]">4<img src="/images/other/star.png"/></button>
                                <button @click="filterWarps('common')" :class="{'bg-[#ffb13f] bg-opacity-20': filters.common}" class="buttonSquare inline-image hue-rotate-180">3<img src="/images/other/star.png"/></button>
                            </div>
                            <table class="w-full text-left">
                                <tr class="text-title child:font-normal">
                                    <th class="pl-5">Time</th>
                                    <th class="text-center">Pity</th>
                                    <th>Name</th>
                                </tr>
                                <tr v-for="warp in warps" :class="'warp-' + warp[4]" class="border-t border-gray-900 child:font-normal child:py-2">
                                    <th class="w-[12.5rem] pl-5 text-sm font-mono">{{ timeToDay(warp[3]) }}</th>
                                    <th :style="`color: hsl(${warp[6]},100%,70%)`" class="text-center pr-2">{{ warp[5] }}</th>
                                    <th class="inline-image gap-3 capitalize"><img :class="[{'scale-[1.5]': warp[2] == 'light_cone'}, {'scale-[2]': warp[2] == 'character'}]" :src="`/images/${warp[2]}/${warp[1]}.webp`"/>{{ warp[1].replaceAll("_", " ") }}</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    const days = {0: "Sun", 1: "Mon", 2: "Tue", 3: "Wed", 4: "Thu", 5: "Fri", 6: "Sat"}
    const exampleData = {
        regular: '{"data":[["1683432600001343908","collapsing_sky","light_cone","2023-05-07 12:43:53","common",1],["1683432600001337108","march_7th","character","2023-05-07 12:43:43","rare",9],["1683432600001336808","meshing_cogs","light_cone","2023-05-07 12:43:40","common",1],["1683432600001334608","pioneering","light_cone","2023-05-07 12:43:36","common",1],["1683011400001508408","sagacity","light_cone","2023-05-02 15:36:15","common",1],["1683004200000612108","bailu","character","2023-05-02 13:15:00","legendary",79],["1683000600001649408","meshing_cogs","light_cone","2023-05-02 12:42:33","common",1],["1682997000001507308","collapsing_sky","light_cone","2023-05-02 11:39:48","common",1],["1682997000001505908","meshing_cogs","light_cone","2023-05-02 11:39:45","common",1],["1682997000001504208","fine_fruit","light_cone","2023-05-02 11:39:42","common",1],["1682921400002099408","the_birth_of_the_self","light_cone","2023-05-01 14:35:41","rare",10],["1682921400002075308","arrows","light_cone","2023-05-01 14:35:16","common",1],["1682921400002075208","mediation","light_cone","2023-05-01 14:35:16","common",1],["1682921400002075108","mediation","light_cone","2023-05-01 14:35:16","common",1],["1682921400002075008","cornucopia","light_cone","2023-05-01 14:35:16","common",1],["1682921400002074908","loop","light_cone","2023-05-01 14:35:16","common",1],["1682921400002074808","data_bank","light_cone","2023-05-01 14:35:16","common",1],["1682921400002074708","sagacity","light_cone","2023-05-01 14:35:16","common",1],["1682921400002074608","fine_fruit","light_cone","2023-05-01 14:35:16","common",1],["1682921400002074508","amber","light_cone","2023-05-01 14:35:16","common",1],["1682921400002074408","qingque","character","2023-05-01 14:35:16","rare",10],["1682917800000869008","adversarial","light_cone","2023-05-01 13:15:44","common",1],["1682917800000865908","multiplication","light_cone","2023-05-01 13:15:41","common",1],["1682917800000862108","collapsing_sky","light_cone","2023-05-01 13:15:39","common",1],["1682917800000860508","passkey","light_cone","2023-05-01 13:15:37","common",1],["1682917800000857908","multiplication","light_cone","2023-05-01 13:15:34","common",1],["1682871000001228408","multiplication","light_cone","2023-05-01 00:16:08","common",1],["1682860200003907808","arrows","light_cone","2023-04-30 21:31:53","common",1],["1682838600000945808","hidden_shadow","light_cone","2023-04-30 15:17:10","common",1],["1682838600000944108","amber","light_cone","2023-04-30 15:17:07","common",1],["1682835000001636908","under_the_blue_sky","light_cone","2023-04-30 14:31:55","rare",10],["1682835000000522108","sagacity","light_cone","2023-04-30 14:10:26","common",1],["1682766600001198008","pioneering","light_cone","2023-04-29 19:23:21","common",1],["1682766600001195608","collapsing_sky","light_cone","2023-04-29 19:23:17","common",1],["1682759400000455808","mediation","light_cone","2023-04-29 17:07:03","common",1],["1682755800002959508","loop","light_cone","2023-04-29 16:54:08","common",1],["1682755800002490608","arrows","light_cone","2023-04-29 16:45:36","common",1],["1682755800002483808","arrows","light_cone","2023-04-29 16:45:32","common",1],["1682755800002483408","passkey","light_cone","2023-04-29 16:45:30","common",1],["1682755800002480608","adversarial","light_cone","2023-04-29 16:45:27","common",1],["1682755800002475308","herta","character","2023-04-29 16:45:23","rare",9],["1682734200001855808","darting_arrow","light_cone","2023-04-29 10:41:39","common",1],["1682662200001487408","cornucopia","light_cone","2023-04-28 14:31:52","common",1],["1682601000000748508","adversarial","light_cone","2023-04-27 21:09:54","common",1],["1682601000000746008","meshing_cogs","light_cone","2023-04-27 21:09:51","common",1],["1682601000000733508","meshing_cogs","light_cone","2023-04-27 21:09:36","common",1],["1682601000000733408","data_bank","light_cone","2023-04-27 21:09:36","common",1],["1682601000000733308","defense","light_cone","2023-04-27 21:09:36","common",1],["1682601000000733208","cornucopia","light_cone","2023-04-27 21:09:36","common",1],["1682601000000733108","memories_of_the_past","light_cone","2023-04-27 21:09:36","rare",9],["1682601000000733008","void","light_cone","2023-04-27 21:09:36","common",1],["1682601000000732908","arrows","light_cone","2023-04-27 21:09:36","common",1],["1682601000000732808","mutual_demise","light_cone","2023-04-27 21:09:36","common",1],["1682601000000732708","fine_fruit","light_cone","2023-04-27 21:09:36","common",1],["1682601000000732608","amber","light_cone","2023-04-27 21:09:36","common",1],["1682572200000129908","defense","light_cone","2023-04-27 13:02:42","common",1],["1682561400000286208","darting_arrow","light_cone","2023-04-27 10:06:29","common",1],["1682518200005807408","sagacity","light_cone","2023-04-26 22:44:33","common",1],["1682518200005800308","herta","character","2023-04-26 22:44:29","rare",10],["1682518200005794708","collapsing_sky","light_cone","2023-04-26 22:44:27","common",1],["1682518200005788808","data_bank","light_cone","2023-04-26 22:44:24","common",1],["1682518200005777908","hidden_shadow","light_cone","2023-04-26 22:44:20","common",1],["1682511000006672108","data_bank","light_cone","2023-04-26 20:50:29","common",1],["1682511000006668608","shattered_home","light_cone","2023-04-26 20:50:26","common",1],["1682511000006665208","data_bank","light_cone","2023-04-26 20:50:23","common",1],["1682511000006659308","cornucopia","light_cone","2023-04-26 20:50:20","common",1],["1682511000006601708","multiplication","light_cone","2023-04-26 20:49:57","common",1],["1682507400002867308","fine_fruit","light_cone","2023-04-26 19:23:32","common",1],["1682507400000768808","dance!_dance!_dance!","light_cone","2023-04-26 19:06:57","rare",4],["1682500200005485708","arrows","light_cone","2023-04-26 17:49:31","common",1],["1682500200005476108","collapsing_sky","light_cone","2023-04-26 17:49:28","common",1],["1682500200005472708","amber","light_cone","2023-04-26 17:49:26","common",1],["1682500200005463908","trend_of_the_universal_market","light_cone","2023-04-26 17:49:22","rare",10],["1682500200005458108","mutual_demise","light_cone","2023-04-26 17:49:19","common",1],["1682500200005441808","collapsing_sky","light_cone","2023-04-26 17:49:09","common",1],["1682500200003172908","collapsing_sky","light_cone","2023-04-26 17:30:04","common",1],["1682500200003166608","void","light_cone","2023-04-26 17:30:01","common",1],["1682500200003163008","adversarial","light_cone","2023-04-26 17:29:57","common",1],["1682500200002173908","sagacity","light_cone","2023-04-26 17:21:28","common",1],["1682500200002077008","hidden_shadow","light_cone","2023-04-26 17:20:42","common",1],["1682500200002075108","amber","light_cone","2023-04-26 17:20:39","common",1],["1682500200002068808","hidden_shadow","light_cone","2023-04-26 17:20:36","common",1],["1682500200002060008","dance!_dance!_dance!","light_cone","2023-04-26 17:20:30","rare",1],["1682475000001374608","asta","character","2023-04-26 10:18:38","rare",1]],"pity":{"legendary":"5","rare":"1"},"lifetime":84,"lastId":"1683432600001343908"}',
        character: '{"data":[["1683004200000606308","adversarial","light_cone","2023-05-02 13:14:56","common",1],["1683000600000811408","loop","light_cone","2023-05-02 12:21:46","common",1],["1682997000001501608","fine_fruit","light_cone","2023-05-02 11:39:38","common",1],["1682993400001905408","hidden_shadow","light_cone","2023-05-02 10:54:35","common",1],["1682993400001665408","pioneering","light_cone","2023-05-02 10:48:12","common",1],["1682993400001659708","dan_heng","character","2023-05-02 10:48:08","rare",3],["1682993400001654708","hidden_shadow","light_cone","2023-05-02 10:48:02","common",1],["1682921400002232908","chorus","light_cone","2023-05-01 14:37:49","common",1],["1682921400002218708","natasha","character","2023-05-01 14:37:40","rare",9],["1682921400002216008","collapsing_sky","light_cone","2023-05-01 14:37:38","common",1],["1682921400002213808","passkey","light_cone","2023-05-01 14:37:35","common",1],["1682921400002212308","fine_fruit","light_cone","2023-05-01 14:37:33","common",1],["1682921400002210708","amber","light_cone","2023-05-01 14:37:30","common",1],["1682921400002209108","sagacity","light_cone","2023-05-01 14:37:28","common",1],["1682921400002196008","cornucopia","light_cone","2023-05-01 14:37:15","common",1],["1682921400000389308","data_bank","light_cone","2023-05-01 14:06:44","common",1],["1682917800002337708","sagacity","light_cone","2023-05-01 13:41:47","common",1],["1682917800000854608","post-op_conversation","light_cone","2023-05-01 13:15:28","rare",10],["1682917800000853908","mediation","light_cone","2023-05-01 13:15:25","common",1],["1682917800000853408","chorus","light_cone","2023-05-01 13:15:23","common",1],["1682917800000851808","multiplication","light_cone","2023-05-01 13:15:20","common",1],["1682917800000850908","data_bank","light_cone","2023-05-01 13:15:17","common",1],["1682917800000822108","amber","light_cone","2023-05-01 13:14:39","common",1],["1682917800000167308","shattered_home","light_cone","2023-05-01 13:03:01","common",1],["1682871000001220708","data_bank","light_cone","2023-05-01 00:16:01","common",1],["1682871000001090108","amber","light_cone","2023-05-01 00:14:04","common",1],["1682871000000096608","chorus","light_cone","2023-05-01 00:01:18","common",1],["1682871000000077208","pela","character","2023-05-01 00:01:07","rare",3],["1682867400005202708","hidden_shadow","light_cone","2023-04-30 23:56:04","common",1],["1682863800000682608","fine_fruit","light_cone","2023-04-30 22:06:15","common",1],["1682863800000672608","hook","character","2023-04-30 22:06:11","rare",8],["1682745000001554608","darting_arrow","light_cone","2023-04-29 13:29:22","common",1],["1682737800000339708","collapsing_sky","light_cone","2023-04-29 11:06:15","common",1],["1682734200001948908","chorus","light_cone","2023-04-29 10:43:26","common",1],["1682651400001306808","loop","light_cone","2023-04-28 11:34:46","common",1],["1682647800000465208","meshing_cogs","light_cone","2023-04-28 10:12:44","common",1],["1682525400001802508","passkey","light_cone","2023-04-27 00:17:40","common",1],["1682525400001792208","data_bank","light_cone","2023-04-27 00:17:35","common",1],["1682521800004916808","natasha","character","2023-04-26 23:40:52","rare",4],["1682521800004870308","sagacity","light_cone","2023-04-26 23:40:24","common",1],["1682521800004856108","cornucopia","light_cone","2023-04-26 23:40:14","common",1],["1682521800004744308","mediation","light_cone","2023-04-26 23:39:10","common",1],["1682521800004744208","asta","character","2023-04-26 23:39:10","rare",10],["1682521800004744108","passkey","light_cone","2023-04-26 23:39:10","common",1],["1682521800004744008","fine_fruit","light_cone","2023-04-26 23:39:10","common",1],["1682521800004743908","passkey","light_cone","2023-04-26 23:39:10","common",1],["1682521800004743808","passkey","light_cone","2023-04-26 23:39:10","common",1],["1682521800004743708","seele","character","2023-04-26 23:39:10","legendary",66],["1682521800004743608","mutual_demise","light_cone","2023-04-26 23:39:10","common",1],["1682521800004743508","fine_fruit","light_cone","2023-04-26 23:39:10","common",1],["1682521800004743408","loop","light_cone","2023-04-26 23:39:10","common",1],["1682518200007802608","loop","light_cone","2023-04-26 22:59:43","common",1],["1682518200007788808","pela","character","2023-04-26 22:59:40","rare",17],["1682518200007778708","multiplication","light_cone","2023-04-26 22:59:36","common",1],["1682518200007772908","hidden_shadow","light_cone","2023-04-26 22:59:33","common",1],["1682518200007764408","arrows","light_cone","2023-04-26 22:59:30","common",1],["1682518200007750308","passkey","light_cone","2023-04-26 22:59:26","common",1],["1682518200007512408","darting_arrow","light_cone","2023-04-26 22:57:51","common",1],["1682518200007512308","cornucopia","light_cone","2023-04-26 22:57:51","common",1],["1682518200007512208","shared_feeling","light_cone","2023-04-26 22:57:51","common",1],["1682518200007512108","void","light_cone","2023-04-26 22:57:51","common",1],["1682518200007512008","adversarial","light_cone","2023-04-26 22:57:51","common",1],["1682518200007511908","collapsing_sky","light_cone","2023-04-26 22:57:51","common",1],["1682518200007511808","darting_arrow","light_cone","2023-04-26 22:57:51","common",1],["1682518200007511708","mutual_demise","light_cone","2023-04-26 22:57:51","common",1],["1682518200007511608","mediation","light_cone","2023-04-26 22:57:51","common",1],["1682518200007511508","arrows","light_cone","2023-04-26 22:57:51","common",1],["1682518200007433208","mediation","light_cone","2023-04-26 22:57:18","common",1],["1682518200007433108","collapsing_sky","light_cone","2023-04-26 22:57:18","common",1],["1682518200007433008","natasha","character","2023-04-26 22:57:18","rare",3],["1682518200007432908","mediation","light_cone","2023-04-26 22:57:18","common",1],["1682518200007432808","mediation","light_cone","2023-04-26 22:57:18","common",1],["1682518200007432708","march_7th","character","2023-04-26 22:57:18","rare",10],["1682518200007432608","loop","light_cone","2023-04-26 22:57:18","common",1],["1682518200007432508","chorus","light_cone","2023-04-26 22:57:18","common",1],["1682518200007432408","hidden_shadow","light_cone","2023-04-26 22:57:18","common",1],["1682518200007432308","arrows","light_cone","2023-04-26 22:57:18","common",1],["1682518200007137708","hidden_shadow","light_cone","2023-04-26 22:55:06","common",1],["1682518200005823608","data_bank","light_cone","2023-04-26 22:44:41","common",1],["1682518200005756108","passkey","light_cone","2023-04-26 22:44:10","common",1],["1682514600005381008","hidden_shadow","light_cone","2023-04-26 21:38:43","common",1],["1682511000007201808","shattered_home","light_cone","2023-04-26 20:54:22","common",1],["1682507400006312508","natasha","character","2023-04-26 19:51:00","rare",9],["1682507400000784708","defense","light_cone","2023-04-26 19:07:07","common",1],["1682507400000749108","pioneering","light_cone","2023-04-26 19:06:47","common",1],["1682507400000739408","amber","light_cone","2023-04-26 19:06:42","common",1],["1682507400000730108","pioneering","light_cone","2023-04-26 19:06:36","common",1],["1682503800003478208","meshing_cogs","light_cone","2023-04-26 18:32:13","common",1],["1682500200005905908","void","light_cone","2023-04-26 17:53:29","common",1],["1682500200005529808","loop","light_cone","2023-04-26 17:49:55","common",1],["1682500200003212508","darting_arrow","light_cone","2023-04-26 17:30:24","common",1],["1682500200003198408","planetary_rendezvous","light_cone","2023-04-26 17:30:14","rare",3],["1682500200002095208","chorus","light_cone","2023-04-26 17:20:52","common",1],["1682500200000905608","chorus","light_cone","2023-04-26 17:09:13","common",1],["1682496600003953608","natasha","character","2023-04-26 16:36:35","rare",9],["1682496600001050908","hidden_shadow","light_cone","2023-04-26 16:09:33","common",1],["1682493000003202008","mutual_demise","light_cone","2023-04-26 15:30:36","common",1],["1682489400005773508","hidden_shadow","light_cone","2023-04-26 14:50:40","common",1],["1682489400004155208","arrows","light_cone","2023-04-26 14:36:29","common",1],["1682489400000813508","adversarial","light_cone","2023-04-26 14:06:27","common",1],["1682489400000583008","shattered_home","light_cone","2023-04-26 14:04:38","common",1],["1682485800001839908","adversarial","light_cone","2023-04-26 13:16:35","common",1],["1682485800001797308","darting_arrow","light_cone","2023-04-26 13:16:08","common",1],["1682482200004321808","natasha","character","2023-04-26 12:36:24","rare",6],["1682482200003801608","mediation","light_cone","2023-04-26 12:32:17","common",1],["1682482200003777408","defense","light_cone","2023-04-26 12:32:02","common",1],["1682478600005162408","hidden_shadow","light_cone","2023-04-26 11:43:35","common",1],["1682478600005098508","cornucopia","light_cone","2023-04-26 11:43:02","common",1],["1682478600002900408","data_bank","light_cone","2023-04-26 11:24:37","common",1],["1682478600002862208","qingque","character","2023-04-26 11:24:16","rare",8],["1682475000003511408","shattered_home","light_cone","2023-04-26 10:42:30","common",1],["1682475000003507508","mutual_demise","light_cone","2023-04-26 10:42:27","common",1],["1682475000003499208","data_bank","light_cone","2023-04-26 10:42:23","common",1],["1682475000003477808","gepard","character","2023-04-26 10:42:14","legendary",5],["1682475000003412008","pioneering","light_cone","2023-04-26 10:41:31","common",1],["1682475000002042408","data_bank","light_cone","2023-04-26 10:26:20","common",1],["1682475000002013308","cornucopia","light_cone","2023-04-26 10:26:02","common",1],["1682475000001573708","natasha","character","2023-04-26 10:20:58","rare",1]],"pity":{"legendary":"47","rare":"5"},"lifetime":118,"lastId":"1683004200000606308"}',
        light_cone: '{"data":[["1683202200001389408","pioneering","light_cone","2023-05-04 20:36:15","common",1],["1683202200001389308","fine_fruit","light_cone","2023-05-04 20:36:15","common",1],["1683202200001389208","sagacity","light_cone","2023-05-04 20:36:15","common",1],["1683202200001389108","sleep_like_the_dead","light_cone","2023-05-04 20:36:15","legendary",3],["1683202200001389008","darting_arrow","light_cone","2023-05-04 20:36:15","common",1],["1683202200001388908","passkey","light_cone","2023-05-04 20:36:15","common",1],["1683202200001388808","in_the_night","light_cone","2023-05-04 20:36:15","legendary",74],["1683202200001388708","good_night_and_sleep_well","light_cone","2023-05-04 20:36:15","rare",1],["1683202200001388608","the_moles_welcome_you","light_cone","2023-05-04 20:36:15","rare",6],["1683202200001388508","shattered_home","light_cone","2023-05-04 20:36:15","common",1],["1683202200001386208","loop","light_cone","2023-05-04 20:36:12","common",1],["1683202200001386108","hidden_shadow","light_cone","2023-05-04 20:36:12","common",1],["1683202200001386008","fine_fruit","light_cone","2023-05-04 20:36:12","common",1],["1683202200001385908","void","light_cone","2023-05-04 20:36:12","common",1],["1683202200001385808","post-op_conversation","light_cone","2023-05-04 20:36:12","rare",7],["1683202200001385708","multiplication","light_cone","2023-05-04 20:36:12","common",1],["1683202200001385608","hidden_shadow","light_cone","2023-05-04 20:36:12","common",1],["1683202200001385508","shattered_home","light_cone","2023-05-04 20:36:12","common",1],["1683202200001385408","pioneering","light_cone","2023-05-04 20:36:12","common",1],["1683202200001385308","collapsing_sky","light_cone","2023-05-04 20:36:12","common",1],["1683202200001383008","cornucopia","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382908","natasha","character","2023-05-04 20:36:08","rare",8],["1683202200001382808","pioneering","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382708","shattered_home","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382608","mediation","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382508","shattered_home","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382408","collapsing_sky","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382308","shattered_home","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382208","multiplication","light_cone","2023-05-04 20:36:08","common",1],["1683202200001382108","post-op_conversation","light_cone","2023-05-04 20:36:08","rare",8],["1683202200001377608","arrows","light_cone","2023-05-04 20:36:04","common",1],["1683202200001377508","hidden_shadow","light_cone","2023-05-04 20:36:04","common",1],["1683202200001377408","chorus","light_cone","2023-05-04 20:36:04","common",1],["1683202200001377308","defense","light_cone","2023-05-04 20:36:04","common",1],["1683202200001377208","data_bank","light_cone","2023-05-04 20:36:04","common",1],["1683202200001377108","mutual_demise","light_cone","2023-05-04 20:36:04","common",1],["1683202200001377008","meshing_cogs","light_cone","2023-05-04 20:36:04","common",1],["1683202200001376908","the_moles_welcome_you","light_cone","2023-05-04 20:36:04","rare",9],["1683202200001376808","adversarial","light_cone","2023-05-04 20:36:04","common",1],["1683202200001376708","arrows","light_cone","2023-05-04 20:36:04","common",1],["1683202200001369808","mediation","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369708","void","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369608","mediation","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369508","fine_fruit","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369408","sagacity","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369308","mutual_demise","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369208","post-op_conversation","light_cone","2023-05-04 20:35:51","rare",7],["1683202200001369108","cornucopia","light_cone","2023-05-04 20:35:51","common",1],["1683202200001369008","adversarial","light_cone","2023-05-04 20:35:51","common",1],["1683202200001368908","data_bank","light_cone","2023-05-04 20:35:51","common",1],["1683202200001365508","meshing_cogs","light_cone","2023-05-04 20:35:48","common",1],["1683202200001365408","hidden_shadow","light_cone","2023-05-04 20:35:48","common",1],["1683202200001365308","data_bank","light_cone","2023-05-04 20:35:48","common",1],["1683202200001365208","the_moles_welcome_you","light_cone","2023-05-04 20:35:48","rare",6],["1683202200001365108","defense","light_cone","2023-05-04 20:35:48","common",1],["1683202200001365008","pioneering","light_cone","2023-05-04 20:35:48","common",1],["1683202200001364908","arrows","light_cone","2023-05-04 20:35:48","common",1],["1683202200001364808","mutual_demise","light_cone","2023-05-04 20:35:48","common",1],["1683202200001364708","amber","light_cone","2023-05-04 20:35:48","common",1],["1683202200001364608","post-op_conversation","light_cone","2023-05-04 20:35:48","rare",8],["1683202200001361208","multiplication","light_cone","2023-05-04 20:35:45","common",1],["1683202200001361108","amber","light_cone","2023-05-04 20:35:45","common",1],["1683202200001361008","void","light_cone","2023-05-04 20:35:45","common",1],["1683202200001360908","data_bank","light_cone","2023-05-04 20:35:45","common",1],["1683202200001360808","shattered_home","light_cone","2023-05-04 20:35:45","common",1],["1683202200001360708","hidden_shadow","light_cone","2023-05-04 20:35:45","common",1],["1683202200001360608","meshing_cogs","light_cone","2023-05-04 20:35:45","common",1],["1683202200001360508","asta","character","2023-05-04 20:35:45","rare",4],["1683202200001360408","mutual_demise","light_cone","2023-05-04 20:35:45","common",1],["1683202200001360308","darting_arrow","light_cone","2023-05-04 20:35:45","common",1],["1683166200000740208","data_bank","light_cone","2023-05-04 10:31:54","common",1],["1683166200000734208","post-op_conversation","light_cone","2023-05-04 10:31:46","rare",5],["1683166200000561808","passkey","light_cone","2023-05-04 10:24:40","common",1],["1683079800001689108","void","light_cone","2023-05-03 10:58:27","common",1],["1683015000002302008","mediation","light_cone","2023-05-02 16:54:44","common",1],["1683015000001288608","adversarial","light_cone","2023-05-02 16:31:25","common",1],["1683015000001284408","the_moles_welcome_you","light_cone","2023-05-02 16:31:21","rare",10],["1683004200000688708","defense","light_cone","2023-05-02 13:16:46","common",1],["1683004200000686008","data_bank","light_cone","2023-05-02 13:16:43","common",1],["1683004200000628008","chorus","light_cone","2023-05-02 13:15:25","common",1],["1682863800000634208","moment_of_victory","light_cone","2023-04-30 22:05:46","legendary",68],["1682863800000624008","collapsing_sky","light_cone","2023-04-30 22:05:41","common",1],["1682863800000608408","cornucopia","light_cone","2023-04-30 22:05:37","common",1],["1682863800000597908","loop","light_cone","2023-04-30 22:05:32","common",1],["1682863800000593208","arrows","light_cone","2023-04-30 22:05:28","common",1],["1682860200005120508","defense","light_cone","2023-04-30 21:42:23","common",1],["1682860200003937508","the_moles_welcome_you","light_cone","2023-04-30 21:32:03","rare",9],["1682860200003924308","amber","light_cone","2023-04-30 21:31:58","common",1],["1682860200003280108","multiplication","light_cone","2023-04-30 21:26:27","common",1],["1682860200001769308","collapsing_sky","light_cone","2023-04-30 21:13:40","common",1],["1682860200001758608","chorus","light_cone","2023-04-30 21:13:36","common",1],["1682856600011795308","mutual_demise","light_cone","2023-04-30 20:51:26","common",1],["1682856600011715808","mediation","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715708","sagacity","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715608","loop","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715508","good_night_and_sleep_well","light_cone","2023-04-30 20:50:48","rare",8],["1682856600011715408","collapsing_sky","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715308","passkey","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715208","data_bank","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715108","arrows","light_cone","2023-04-30 20:50:48","common",1],["1682856600011715008","sagacity","light_cone","2023-04-30 20:50:48","common",1],["1682856600011714908","darting_arrow","light_cone","2023-04-30 20:50:48","common",1],["1682838600000941008","data_bank","light_cone","2023-04-30 15:17:03","common",1],["1682838600000930008","qingque","character","2023-04-30 15:16:53","rare",4],["1682835000001873808","multiplication","light_cone","2023-04-30 14:36:25","common",1],["1682835000001682508","meshing_cogs","light_cone","2023-04-30 14:32:45","common",1],["1682831400000162208","chorus","light_cone","2023-04-30 13:03:32","common",1],["1682827800002010108","good_night_and_sleep_well","light_cone","2023-04-30 12:40:42","rare",3],["1682827800001923108","data_bank","light_cone","2023-04-30 12:38:48","common",1],["1682763000002857908","defense","light_cone","2023-04-29 18:55:44","common",1],["1682759400000451908","the_moles_welcome_you","light_cone","2023-04-29 17:06:59","rare",9],["1682755800002506608","mediation","light_cone","2023-04-29 16:45:54","common",1],["1682752200001123308","chorus","light_cone","2023-04-29 15:19:27","common",1],["1682748600002412708","hidden_shadow","light_cone","2023-04-29 14:43:40","common",1],["1682748600002401808","mutual_demise","light_cone","2023-04-29 14:43:31","common",1],["1682745000001515808","fine_fruit","light_cone","2023-04-29 13:28:48","common",1],["1682734200001894408","sagacity","light_cone","2023-04-29 10:42:26","common",1],["1682734200001859708","amber","light_cone","2023-04-29 10:41:45","common",1],["1682665800002673808","cornucopia","light_cone","2023-04-28 15:55:45","common",1],["1682665800002670508","good_night_and_sleep_well","light_cone","2023-04-28 15:55:40","rare",3],["1682662200002597708","pioneering","light_cone","2023-04-28 14:57:33","common",1],["1682662200001483708","amber","light_cone","2023-04-28 14:31:47","common",1],["1682662200000968808","post-op_conversation","light_cone","2023-04-28 14:20:32","rare",8],["1682651400001294208","darting_arrow","light_cone","2023-04-28 11:34:33","common",1],["1682647800000443408","defense","light_cone","2023-04-28 10:11:40","common",1],["1682647800000440908","data_bank","light_cone","2023-04-28 10:11:36","common",1],["1682601000000728808","fine_fruit","light_cone","2023-04-27 21:09:31","common",1],["1682583000000380708","shattered_home","light_cone","2023-04-27 16:07:07","common",1],["1682583000000380208","arrows","light_cone","2023-04-27 16:07:04","common",1],["1682583000000379108","darting_arrow","light_cone","2023-04-27 16:07:02","common",1],["1682583000000376308","herta","character","2023-04-27 16:06:59","rare",6],["1682583000000374108","arrows","light_cone","2023-04-27 16:06:56","common",1],["1682583000000372708","cornucopia","light_cone","2023-04-27 16:06:53","common",1],["1682583000000359508","meshing_cogs","light_cone","2023-04-27 16:06:41","common",1],["1682575800001180108","mediation","light_cone","2023-04-27 14:21:01","common",1],["1682575800001158308","multiplication","light_cone","2023-04-27 14:20:39","common",1],["1682575800000746108","good_night_and_sleep_well","light_cone","2023-04-27 14:13:13","rare",9],["1682572200000134208","chorus","light_cone","2023-04-27 13:02:49","common",1],["1682568600000903208","shattered_home","light_cone","2023-04-27 12:15:24","common",1],["1682565000002167508","adversarial","light_cone","2023-04-27 11:46:24","common",1],["1682565000000582908","cornucopia","light_cone","2023-04-27 11:13:40","common",1],["1682565000000550408","void","light_cone","2023-04-27 11:12:52","common",1],["1682565000000546008","chorus","light_cone","2023-04-27 11:12:48","common",1],["1682565000000541108","adversarial","light_cone","2023-04-27 11:12:42","common",1],["1682565000000539208","mediation","light_cone","2023-04-27 11:12:37","common",1],["1682565000000536308","the_moles_welcome_you","light_cone","2023-04-27 11:12:31","rare",3],["1682561400000063008","darting_arrow","light_cone","2023-04-27 10:01:30","common",1],["1682561400000057408","hidden_shadow","light_cone","2023-04-27 10:01:25","common",1]],"pity":{"legendary":"3","rare":"7"},"lifetime":148,"lastId":"1683202200001389408"}'
    }

    export default {
        data() {
            return {
                warps: null,
                banner: "character",
                pulls: {
                    lifetime: 0,
                    legendary: 0,
                    rare: 0
                },
                filters: {
                    legendary: true,
                    rare: true,
                    common: true
                }
            }
        },
        methods: {
            switchBanner(banner) {
                this.banner = banner
                this.warps = this.getWarps(10, this.banner)
            },
            filterWarps(filter) {
                this.filters[filter] ^= true
                this.warps = this.getWarps(10, this.banner)
            },
            timeToDay(time) {
                return `${days[new Date(time).getDay()]} ${time}`
            },
            getWarps(amount, banner) {
                var warps = JSON.parse(localStorage.getItem("warps_" + banner))
                //var warps = JSON.parse(exampleData[banner])

                if (warps) {
                    this.pulls.lifetime = warps.lifetime
                    this.pulls.legendary = warps.pity.legendary || warpsLength
                    this.pulls.rare = warps.pity.rare || warpsLength
                }

                const filtered = warps.data.filter(warp => this.filters[warp[4]]).slice(0, amount)

                return filtered
            }
        },
        mounted: function() {
            this.warps = this.getWarps(10, this.banner)
        }
    }
</script>

<script setup>
    import Split from "../components/Split.vue"

    import * as vueRouter from "vue-router"

    const router = vueRouter.useRouter()

    function redirect(route) {
        router.push({
            path: route,
        })
    }
</script>